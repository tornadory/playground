<!DOCTYPE html>
<html>
<head>
	<title>Threejs Test</title>
</head>

<style>
	body{
		margin: 0;
		overflow: hidden;
	}
</style>
<body>
	<div id="container"></div>
</body>
<script type="x-shader/x-vertex" id="vertexShader">
	uniform float uTime;
	uniform sampler2D tDiffuse;
	varying vec2 vUv;
	void main() {
		vUv = uv; //get uv coordinates 0->1
		vec4 tex = texture2D(tDiffuse, uv); //pass in texture and coordinates, returns a color value
											
		float scrollSpeed = 75.;
		
		vec4 tex2 = texture2D(tDiffuse, vec2(tex.r + uTime * scrollSpeed, tex.b + (uTime * scrollSpeed * 1.234))); //uTime used to change position of vertex

  		// gl_Position = projectionMatrix * modelViewMatrix * vec4(tex2.rgb - vec3(.5, .5, .5), 1.);
  		// gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.); //render original positions
  		gl_Position = projectionMatrix * modelViewMatrix * vec4(position + tex2.rgb, 1.); 
	}   
</script>

<script type="x-shader/x-fragment" id="fragmentShader">
	uniform float uTime;
	uniform sampler2D tDiffuse;
	varying vec2 vUv;
	void main() {
		vec4 tex = texture2D(tDiffuse, vUv + uTime * 250.); //uTime used to changed color of vertex
	    gl_FragColor = vec4(tex.rgb * 1.5, .5);
	}
</script>
<script src="bower_components/three.js/build/three.js"></script>
<script src="bower_components/three.js/examples/js/controls/TrackballControls.js"></script>
<script src="js/classes.js"></script>
<script src="setup.js"></script>
</html>